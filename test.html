<!DOCTYPE html>
<html>
<head>
    <title>Steganography Decoder</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        
        h1 {
            margin-top: 50px;
        }
        
        .container {
            margin-top: 50px;
        }
        
        #decoded-message {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Steganography Decoder</h1>
    <div class="container">
        <button onclick="decodeImage()">Decode Image</button>
        <p id="decoded-message"></p>
    </div>

    <script>
        function decodeImage() {
            const imageSrc = "14.jpg"; // Replace with the path to your image
            
            const img = new Image();
            img.onload = function () {
                const canvas = document.createElement('canvas');
                canvas.width = img.width;
                canvas.height = img.height;

                const ctx = canvas.getContext('2d');
                ctx.drawImage(img, 0, 0);

                let pixelIndex = 0;
                let decodedBits = '';

                while (true) {
                    const pixel = ctx.getImageData(pixelIndex % img.width, Math.floor(pixelIndex / img.width), 1, 1).data;
                    const bit = pixel[3] & 1;
                    decodedBits += bit;

                    pixelIndex++;

                    if (decodedBits.length % 8 === 0 && decodedBits.slice(-8) === '00000000') {
                        break;
                    }
                }

                let decodedMessage = '';
                for (let i = 0; i < decodedBits.length - 8; i += 8) {
                    const byte = decodedBits.substr(i, 8);
                    const charCode = parseInt(byte, 2);
                    const char = String.fromCharCode(charCode);
                    decodedMessage += char;
                }

                decodedMessage = decodedMessage.replace(/(?:\r\n|\r|\n)/g, '<br>');
                document.getElementById('decoded-message').innerHTML = decodedMessage;
            };

            img.src = imageSrc;
        }
    </script>
</body>
</html>
